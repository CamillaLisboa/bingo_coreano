{% extends 'base.html' %}
{% block content %}
<div class="module-header">
  <h2>모듈: {{ name }}</h2>
  <form action="{{ url_for('delete_module', name=name) }}" method="post" onsubmit="return confirm('Apagar módulo?');">
    <button type="submit" class="btn danger">모듈 삭제</button>
  </form>
</div>

<div class="grid-2">
  <div class="panel">
    <h3> 단어 ({{ words|length }})</h3>
    <ol class="words-list">
      {% for w in words %}
        <li>
          <span class="index">{{ loop.index }}.</span>
          <form action="{{ url_for('delete_word', name=name) }}" method="post" style="display:inline">
            <input type="hidden" name="idx" value="{{ loop.index0 }}">
            <button class="small danger" title="Apagar">×</button>
          </form>
          <span class="hangul">{{ w }}</span>
        </li>
      {% endfor %}
    </ol>
    <form action="{{ url_for('add_word', name=name) }}" method="post" class="form-inline">
      <input name="word" placeholder="단어 추가 (한글)" required>
      <button class="btn">단어 추가</button>
    </form>

    <form action="{{ url_for('import_txt', name=name) }}" method="post" enctype="multipart/form-data" class="form-inline">
      <input type="file" name="txtfile" accept=".txt">
      <button class="btn"> .txt 가져오기</button>
    </form>
  </div>

  <div class="panel">
    <h3>빙고 카드 생성</h3>
    <form action="{{ url_for('generate', name=name) }}" method="post">
      <label>격자 크기 (예: 3, 5):</label>
      <input name="grid_size" type="number" value="5" min="3" max="9" step="2">
      <label>카드 수량</label>
      <input name="num_cards" type="number" value="4" min="1" max="500">
      <button class="btn primary">PDF 생성 (다운로드)</button>
    </form>
    <p class="muted">형식: A4 용지당 4 카드, 중앙 = 프리.</p>
  </div>
</div>

{% endblock %}